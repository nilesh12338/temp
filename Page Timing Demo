<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DOM Ready & Load Time</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    #output { font-size: 1.1em; margin-top: 20px; }
  </style>
</head>
<body>

  <h2>Page Timing Metrics</h2>
  <div id="output">Calculating...</div>

  <script>
    function showTiming() {
      const output = document.getElementById("output");

      let navEntry = performance.getEntriesByType("navigation")[0];

      if (!navEntry) {
        // Fallback for older browsers
        const t = performance.timing;
        navEntry = {
          domContentLoadedEventEnd: t.domContentLoadedEventEnd - t.navigationStart,
          loadEventEnd: t.loadEventEnd - t.navigationStart,
        };
      } else {
        navEntry = {
          domContentLoadedEventEnd: navEntry.domContentLoadedEventEnd,
          loadEventEnd: navEntry.loadEventEnd,
        };
      }

      output.innerHTML = `
        <strong>DOM Ready Time:</strong> ${navEntry.domContentLoadedEventEnd.toFixed(2)} ms<br>
        <strong>Total Page Load Time:</strong> ${navEntry.loadEventEnd.toFixed(2)} ms
      `;
    }

    // Wait for the load event to ensure timings are fully available
    window.addEventListener("load", () => {
      setTimeout(showTiming, 0); // Delay to ensure loadEventEnd is populated
    });
  </script>

</body>
</html>
